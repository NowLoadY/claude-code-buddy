###############################################
# Claude Code Buddy - Example Configuration
# Copy to .env and adjust for your environment.
###############################################

# MCP Server Mode (Claude Code manages API access)
MCP_SERVER_MODE=true

# Anthropic API Key (only required if MCP_SERVER_MODE=false)
# ANTHROPIC_API_KEY=your_key_here

# Claude models
CLAUDE_MODEL=claude-sonnet-4-5-20250929
CLAUDE_OPUS_MODEL=claude-opus-4-5-20251101

# Quota limits
CLAUDE_DAILY_LIMIT=150
CLAUDE_MONTHLY_LIMIT=4500

# Cost control
MONTHLY_BUDGET_USD=50
COST_ALERT_THRESHOLD=0.8

# Logging and metrics
LOG_LEVEL=info
ENABLE_METRICS=true
METRICS_PORT=9090

# Guidance modes
BEGINNER_MODE=true
EVIDENCE_MODE=true

# Server
NODE_ENV=development
PORT=3000

# Orchestrator
ORCHESTRATOR_MODE=local
ORCHESTRATOR_MAX_MEMORY_MB=6144

###############################################
# A2A Protocol Configuration
###############################################

# A2A authentication token (required for agent-to-agent communication)
MEMESH_A2A_TOKEN=

# Unique identifier for this agent in A2A network
A2A_AGENT_ID=

# Timeout for A2A HTTP requests in milliseconds (default: 30000)
A2A_REQUEST_TIMEOUT_MS=30000

# Timeout for A2A task execution in milliseconds (default: 300000 / 5 minutes)
MEMESH_A2A_TASK_TIMEOUT=300000

# Enable A2A metrics collection (default: true)
A2A_METRICS_ENABLED=true

# Rate limit for send_message operations per minute (default: 60)
MEMESH_A2A_RATE_LIMIT_SEND_MESSAGE=60

# Rate limit for get_task operations per minute (default: 120)
MEMESH_A2A_RATE_LIMIT_GET_TASK=120

# Default rate limit for other A2A operations per minute (default: 100)
MEMESH_A2A_RATE_LIMIT_DEFAULT=100

###############################################
# Database Configuration
###############################################

# Database file path (optional - defaults to data directory)
# Supports multiple environment variable names for backward compatibility:
# DATABASE_PATH, CCB_DATABASE_PATH, CLAUDE_CODE_BUDDY_DATABASE_PATH, MEMESH_DATABASE_PATH
# DATABASE_PATH=/path/to/database.db

# Database connection pool size (default: 5)
DB_POOL_SIZE=5

# Database connection timeout in milliseconds (default: 5000)
DB_POOL_TIMEOUT=5000

# Database connection idle timeout in milliseconds (default: 30000)
DB_POOL_IDLE_TIMEOUT=30000

###############################################
# Debug & Development
###############################################

# Enable debug mode for verbose logging (default: false)
DEBUG=false

# Disable MCP watchdog for debugging (0 = enabled, 1 = disabled)
DISABLE_MCP_WATCHDOG=0

# Show attribution in responses (default: false)
SHOW_ATTRIBUTION=false

# Show Toonify statistics in output (default: false)
TOONIFY_SHOW_STATS=false

# A2A Retry Configuration
# Maximum number of retry attempts for A2A HTTP operations (default: 3)
A2A_RETRY_MAX_ATTEMPTS=3
# Initial delay in milliseconds before first retry (default: 1000)
A2A_RETRY_INITIAL_DELAY_MS=1000
# Timeout for individual A2A operations in milliseconds (default: 30000)
A2A_RETRY_TIMEOUT_MS=30000

# Database Retry Configuration
# Busy timeout for SQLite operations in milliseconds (default: 5000)
# SQLite will automatically retry when database is locked for this duration
DB_BUSY_TIMEOUT_MS=5000

# Generic Retry Configuration (used by other components)
# Maximum number of retry attempts (default: 3)
RETRY_MAX_ATTEMPTS=3
# Initial delay in milliseconds before first retry (default: 1000)
RETRY_INITIAL_DELAY_MS=1000
# Maximum delay between retries in milliseconds (default: 30000)
RETRY_MAX_DELAY_MS=30000
# Backoff multiplier for exponential backoff (default: 2)
RETRY_BACKOFF_MULTIPLIER=2
# Maximum jitter in milliseconds (default: 1000)
RETRY_JITTER_MS=1000
